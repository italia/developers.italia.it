{% comment %}
Logo and screenshots handler.
{% endcomment %}

{% assign itemLogo = include.logo %}
{% assign screenshots = include.screenshots %}
{% assign id = include.id %}
{% assign classes = include.classes | default: "" %}
{% assign codiceIPA = include.codiceIPA | default: "false" %}

{% if itemLogo contains 'github' and itemLogo contains '.svg' %}
  {% assign logo=itemLogo | append: '?sanitize=true' %}
{% else %}
  {% assign logo=itemLogo %}
{% endif %}

{% if codiceIPA != "false" %}
{% assign placeholderScreen = "/assets/images/placeholder-software-riuso.jpg" %}
{% else %}
{% assign placeholderScreen = "/assets/images/cover_software_opensource.png" %}
{% endif %}

{% assign picture = screenshots | first | default: logo | default: placeholderScreen %}

{% comment %}
Show images:
1. Screenshot
2. Software ID
2. Logo
3. Default placeholder

Utility functions are located in assets/scripts/logos.js.
{% endcomment %}
<div
  data-display-logo-id="sw-{{ id }}"
  data-display-logo-src="{{ picture }}"
  data-display-logo-classes="{{ classes }}"
>
  <div
    style="
      background-position: center;
      background-repeat: no-repeat;
      background-size: 100% !important;
      height: 150px;
      background-image: url('{{ placeholderScreen}}');
    "
  ></div>
</div>
